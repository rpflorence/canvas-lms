(function(a){function b(){function f(a){b=a,c=b.getCanvasNode(),b.onDragInit.subscribe(h),b.onDragStart.subscribe(i),b.onDrag.subscribe(j),b.onDragEnd.subscribe(k)}function g(){b.onDragInit.unsubscribe(h),b.onDragStart.unsubscribe(i),b.onDrag.unsubscribe(j),b.onDragEnd.unsubscribe(k)}function h(a,b){a.stopImmediatePropagation()}function i(e,f){var g=b.getCellFromEvent(e);if(b.getEditorLock().isActive()||!/move|selectAndMove/.test(b.getColumns()[g.cell].behavior))return!1;d=!0,e.stopImmediatePropagation();var h=b.getSelectedRows();if(h.length==0||a.inArray(g.row,h)==-1)h=[g.row],b.setSelectedRows(h);var i=b.getOptions().rowHeight;return f.selectedRows=h,f.selectionProxy=a("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",a(c).innerWidth()).css("height",i*h.length).appendTo(c),f.guide=a("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",a(c).innerWidth()).css("top",-1e3).appendTo(c),f.insertBefore=-1,a("<div></div>").appendTo(c)}function j(f,g){if(!d)return;f.stopImmediatePropagation();var h=f.pageY-a(c).offset().top;g.selectionProxy.css("top",h-5);var i=Math.max(0,Math.min(Math.round(h/b.getOptions().rowHeight),b.getDataLength()));if(i!==g.insertBefore){var j={rows:g.selectedRows,insertBefore:i};e.onBeforeMoveRows.notify(j)===!1?(g.guide.css("top",-1e3),g.canMove=!1):(g.guide.css("top",i*b.getOptions().rowHeight),g.canMove=!0),g.insertBefore=i}}function k(a,b){if(!d)return;d=!1,a.stopImmediatePropagation(),b.guide.remove(),b.selectionProxy.remove();if(b.canMove){var c={rows:b.selectedRows,insertBefore:b.insertBefore};e.onMoveRows.notify(c)}}var b,c,d,e=this;a.extend(this,{onBeforeMoveRows:new Slick.Event,onMoveRows:new Slick.Event,init:f,destroy:g})}a.extend(!0,window,{Slick:{RowMoveManager:b}})})(jQuery)