function EventHelper(){return this.handlers=[],this.subscribe=function(a){this.handlers.push(a)},this.notify=function(a){for(var b=0;b<this.handlers.length;b++)this.handlers[b].call(this,a)},this}(function(a){function b(){function s(){i=!0}function t(){i=!1,M()}function u(){e={};for(var a=0,d=c.length;a<d;a++){var f=c[a][b];if(f==undefined||e[f]!=undefined)throw"Each data element must implement a unique 'id' property";e[f]=a}}function v(){return c}function w(a,d){d!==undefined&&(b=d),c=a,u(),M()}function x(a){a.pageSize!=undefined&&(m=a.pageSize),a.pageNum!=undefined&&(n=Math.min(a.pageNum,Math.ceil(o/m))),r.notify(y()),M()}function y(){return{pageSize:m,pageNum:n,totalRows:o}}function z(a,b){j=b,k=a,l=null,b===!1&&c.reverse(),c.sort(a),b===!1&&c.reverse(),u(),M()}function A(a,b){j=b,l=a,k=null;var d=Object.prototype.toString;Object.prototype.toString=typeof a=="function"?a:function(){return this[a]},b===!1&&c.reverse(),c.sort(),Object.prototype.toString=d,b===!1&&c.reverse(),u(),M()}function B(){k?z(k,j):l&&A(l,j)}function C(a){g=a,M()}function D(a){return c[a]}function E(a){return e[a]}function F(a){if(!f){f={};for(var c=0,e=d.length;c<e;++c)f[d[c][b]]=c}return f[a]}function G(a){return c[e[a]]}function H(a,d){if(e[a]===undefined||a!==d[b])throw"Invalid or non-matching id";c[e[a]]=d,h||(h={}),h[a]=!0,M()}function I(a,b){c.splice(a,0,b),u(),M()}function J(a){c.push(a),u(),M()}function K(a){if(e[a]===undefined)throw"Invalid id";c.splice(e[a],1),u(),M()}function L(a,c,d,e){var g=[],h=a,i=c,j=d,k=e;f=null;var l=i.length,p=0,q=0,r,s;for(var t=0,u=h.length;t<u;++t){r=h[t];if(!j||j(r)){s=r[b];if(!m||p>=m*n&&p<m*(n+1)){if(q>=l||s!=i[q][b]||k&&k[s])g[g.length]=q,i[q]=r;q++}p++}}return l>q&&i.splice(q,l-q),o=p,g}function M(){if(i)return;var a=d.length,b=o,e=L(c,d,g,h);m&&o<n*m&&(n=Math.floor(o/m),e=L(c,d,g,h)),h=null,b!=o&&r.notify(y()),a!=d.length&&p.notify({previous:a,current:d.length}),e.length>0&&q.notify(e)}var a=this,b="id",c=[],d=[],e={},f=null,g=null,h=null,i=!1,j=!0,k=null,l=null,m=0,n=0,o=0,p=new EventHelper,q=new EventHelper,r=new EventHelper;return{rows:d,beginUpdate:s,endUpdate:t,setPagingOptions:x,getPagingInfo:y,getItems:v,setItems:w,setFilter:C,sort:z,fastSort:A,reSort:B,getIdxById:E,getRowById:F,getItemById:G,getItemByIdx:D,refresh:M,updateItem:H,insertItem:I,addItem:J,deleteItem:K,onRowCountChanged:p,onRowsChanged:q,onPagingInfoChanged:r}}a.extend(!0,window,{Slick:{Data:{DataView:b}}})})(jQuery)