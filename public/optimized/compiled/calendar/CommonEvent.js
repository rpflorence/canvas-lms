(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define("compiled/calendar/CommonEvent",["i18n"],function(b){return b=b.scoped("calendar"),function(){function b(b,c){this.save=a(this.save,this),this.removeClass=a(this.removeClass,this),this.addClass=a(this.addClass,this),this.isUndated=a(this.isUndated,this),this.contextCode=a(this.contextCode,this),this.isAppointmentGroupEvent=a(this.isAppointmentGroupEvent,this),this.isAppointmentGroupFilledEvent=a(this.isAppointmentGroupFilledEvent,this),this.isNewEvent=a(this.isNewEvent,this),this.eventType="generic",this.contextInfo=c,this.allPossibleContexts=null,this.className=[],this.object={}}return b.prototype.isNewEvent=function(){var a;return this.eventType==="generic"||((a=this.object)!=null?!a.id:!void 0)},b.prototype.isAppointmentGroupFilledEvent=function(){var a,b;return((a=this.object)!=null?(b=a.child_events)!=null?b.length:void 0:void 0)>0},b.prototype.isAppointmentGroupEvent=function(){var a;return(a=this.object)!=null?a.appointment_group_url:void 0},b.prototype.contextCode=function(){var a,b;return((a=this.object)!=null?a.context_code:void 0)||((b=this.contextInfo)!=null?b.asset_string:void 0)},b.prototype.isUndated=function(){return this.start===null},b.prototype.displayTimeString=function(){return""},b.prototype.readableType=function(){return""},b.prototype.fullDetailsURL=function(){return null},b.prototype.startDate=function(){return this.date},b.prototype.endDate=function(){return this.startDate()},b.prototype.possibleContexts=function(){return this.allPossibleContexts||[this.contextInfo]},b.prototype.addClass=function(a){var b,c,d,e,f;c=!1,f=this.className;for(d=0,e=f.length;d<e;d++){b=f[d];if(b===a){c=!0;break}}if(!c)return this.className.push(a)},b.prototype.removeClass=function(a){var b,c,d,e,f,g;c=0,f=this.className,g=[];for(d=0,e=f.length;d<e;d++)b=f[d],g.push(b===a?this.className.splice(c,1):c+=1);return g},b.prototype.save=function(b,c,d){var e,f,g,h,i;return g=a(function(a){return this.copyDataFromObject(a),$.publish("CommonEvent/eventSaved",this),typeof c=="function"?c():void 0},this),f=a(function(a){return $.publish("CommonEvent/eventSaveFailed",this),typeof d=="function"?d():void 0},this),i=this.methodAndURLForSave(),e=i[0],h=i[1],$.publish("CommonEvent/eventSaving",this),$.ajaxJSON(h,e,b,g,f)},b}()})}).call(this)