(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define("compiled/calendar/MiniCalendar",[],function(){return function(){function b(b,c){this.refetchEvents=a(this.refetchEvents,this),this.visibleContextListChanged=a(this.visibleContextListChanged,this),this.eventRender=a(this.eventRender,this),this.dayClick=a(this.dayClick,this),this.getEvents=a(this.getEvents,this),this.mainCalendar=c,this.calendar=$(b).fullCalendar({height:240,weekMode:"variable",allDayDefault:!1,lazyFetching:!1,ignoreTimezone:!0,header:{left:"prev",center:"title",right:"next"},dayClick:this.dayClick,events:this.getEvents,eventRender:this.eventRender},$.subscribe({"Calendar/visibleContextListChanged":this.visibleContextListChanged,"Calendar/refetchEvents":this.refetchEvents}))}return b.prototype.getEvents=function(a,b,c){return $(".fc-content td").removeClass("event"),this.mainCalendar.getEvents(a,b,c)},b.prototype.dayClick=function(a){return this.mainCalendar.gotoDate(a)},b.prototype.eventRender=function(a,b,c){var d;return d=c.dateCell(a.start),c.element.find("tr:nth-child("+(d.row+1)+") td:nth-child("+(d.col+1)+")").addClass("event"),!1},b.prototype.visibleContextListChanged=function(a){return this.calendar.fullCalendar("refetchEvents")},b.prototype.refetchEvents=function(){return this.calendar.fullCalendar("refetchEvents")},b}()})}).call(this)